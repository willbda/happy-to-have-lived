Layer,Domain Entity,File Path,File Purpose,Key Pattern,Dependencies,Extends/Conforms,Concurrency,Complexity,Notes
Model-Abstraction,Cross-cutting,swift/Sources/Models/Abstractions/Protocols.swift,"Trait-based protocol hierarchy for domain model layers","Protocol composition (DomainAbstraction, DomainBasic, DomainComposit)","Foundation, SQLiteData","Identifiable, Documentable, Timestamped",None,Simple,"Core abstraction defining 3-layer architecture"
Model-Abstraction,Action,swift/Sources/Models/Abstractions/Action.swift,"Past-oriented record of completed actions with timing","@Table DomainAbstraction","Foundation, SQLiteData","DomainAbstraction",Sendable,Simple,"Full metadata entity with measurements in junction table"
Model-Abstraction,Expectation,swift/Sources/Models/Abstractions/Expectation.swift,"Base entity for goals/milestones/obligations (table inheritance)","@Table DomainAbstraction","Foundation, SQLiteData","DomainAbstraction",Sendable,Medium,"Table inheritance base with ExpectationType enum"
Model-Abstraction,Measure,swift/Sources/Models/Abstractions/Measure.swift,"Catalog of measurement units with conversion","@Table DomainAbstraction","Foundation, SQLiteData","DomainAbstraction",Sendable,Simple,"3NF normalized measure catalog with static defaults"
Model-Abstraction,PersonalValue,swift/Sources/Models/Abstractions/PersonalValue.swift,"Unified values and life areas with priority","@Table DomainAbstraction with ValueLevel enum","Foundation, SQLiteData","DomainAbstraction",Sendable,Simple,"Replaces 4 separate value tables with single table + enum"
Model-Abstraction,TimePeriod,swift/Sources/Models/Abstractions/TimePeriod.swift,"Pure chronological boundaries without planning semantics","@Table DomainAbstraction","Foundation, SQLiteData","DomainAbstraction",Sendable,Simple,"Temporal container referenced by GoalTerm"
Model-Basic,Goal,swift/Sources/Models/Basics/Goal.swift,"Expectation subtype with date ranges and action plans","@Table DomainBasic","Foundation, SQLiteData","DomainBasic",Sendable,Simple,"FK to Expectation, targets in ExpectationMeasure"
Model-Basic,Milestone,swift/Sources/Models/Basics/Milestone.swift,"Expectation subtype for point-in-time checkpoints","@Table DomainBasic","Foundation, SQLiteData","DomainBasic",Sendable,Simple,"FK to Expectation, single targetDate"
Model-Basic,Obligation,swift/Sources/Models/Basics/Obligation.swift,"Expectation subtype for external commitments","@Table DomainBasic","Foundation, SQLiteData","DomainBasic",Sendable,Simple,"FK to Expectation, deadline + requestedBy"
Model-Basic,Term,swift/Sources/Models/Basics/Term.swift,"Goal planning scaffold with state and reflection","@Table DomainBasic with TermStatus enum","Foundation, SQLiteData","DomainBasic",Sendable,Medium,"References TimePeriod, has planning semantics"
Model-Basic,Expectation,swift/Sources/Models/Basics/ExpectationMeasure.swift,"Junction for expectation metric targets","@Table DomainBasic","Foundation, SQLiteData","DomainBasic",Sendable,Simple,"Links Expectation to Measure with targetValue"
Model-Composit,Action-Goal,swift/Sources/Models/Composits/ActionGoalContribution.swift,"Junction tracking action contributions to goals","@Table DomainComposit","Foundation, SQLiteData","DomainComposit",Sendable,Simple,"Contribution amount + optional measureId"
Model-Composit,Goal-Value,swift/Sources/Models/Composits/GoalRelevance.swift,"Junction linking goals to values with alignment strength","@Table DomainComposit","Foundation, SQLiteData","DomainComposit",Sendable,Simple,"Alignment metadata + strength (1-10)"
Model-Composit,Action-Measure,swift/Sources/Models/Composits/MeasuredAction.swift,"Junction linking actions to measurements","@Table DomainComposit","Foundation, SQLiteData","DomainComposit",Sendable,Simple,"Value + createdAt, replaces JSON measuresByUnit"
Model-Composit,Term-Goal,swift/Sources/Models/Composits/TermGoalAssignment.swift,"Junction for term-goal assignments","@Table DomainComposit","Foundation, SQLiteData","DomainComposit",Sendable,Simple,"Assignment order + createdAt"
Model-DataType,Goal,swift/Sources/Models/DataTypes/GoalData.swift,"Canonical goal data for display and export","Flat Codable structure with nested structs","Foundation","Identifiable, Hashable, Sendable, Codable",Sendable,Complex,"Single type replaces GoalWithDetails + GoalExport"
Model-DataType,Action,swift/Sources/Models/DataTypes/ActionData.swift,"Canonical action data for display and export","Flat Codable structure with nested structs","Foundation","Identifiable, Hashable, Sendable, Codable",Sendable,Medium,"Single type replaces ActionWithDetails + ActionExport"
Model-DataType,PersonalValue,swift/Sources/Models/DataTypes/PersonalValueData.swift,"Canonical personal value data structure","Flat Codable structure","Foundation","Identifiable, Hashable, Sendable, Codable",Sendable,Simple,"Denormalized PersonalValue with aligned goals"
Model-DataType,TimePeriod,swift/Sources/Models/DataTypes/TimePeriodData.swift,"Canonical time period data with term details","Flat Codable structure","Foundation","Identifiable, Hashable, Sendable, Codable",Sendable,Simple,"TimePeriod + optional GoalTerm data"
Model-DataType,Measure,swift/Sources/Models/DataTypes/MeasureData.swift,"Canonical measure data structure","Flat Codable structure","Foundation","Identifiable, Hashable, Sendable, Codable",Sendable,Simple,"Pure Measure entity for export/display"
Model-DataType,Progress,swift/Sources/Models/DataTypes/ProgressData.swift,"Progress tracking data structure","Codable progress calculations","Foundation","Codable, Sendable",Sendable,Medium,"Tracks completion % and remaining targets"
Model-Semantic,LLM,swift/Sources/Models/SemanticTypes/EmbeddingVector.swift,"Vector representation wrapper for NLEmbedding","Sendable value type","Foundation","Sendable",Sendable,Simple,"Wraps [Float] embedding with utility methods"
Model-Semantic,LLM,swift/Sources/Models/SemanticTypes/EmbeddingCacheEntry.swift,"Cached embedding with metadata","@Table model for embedding storage","Foundation, SQLiteData","DomainComposit",Sendable,Simple,"Links entity to embedding with textHash"
Model-Semantic,LLM,swift/Sources/Models/SemanticTypes/SemanticConfiguration.swift,"Configuration for semantic similarity operations","Thresholds and settings","Foundation","Sendable",Sendable,Simple,"Similarity thresholds for duplicate detection"
Model-Semantic,PersonalValue,swift/Sources/Models/SemanticTypes/AlignmentMatrix.swift,"Goal-value alignment heatmap data","Matrix of alignment strengths","Foundation","Sendable",Sendable,Medium,"2D matrix for value alignment visualization"
Model-Deduplication,Cross-cutting,swift/Sources/Models/Deduplication/DuplicateCandidate.swift,"Potential duplicate entity record","@Table for tracking duplicates","Foundation, SQLiteData","DomainBasic",Sendable,Simple,"Similarity score + severity + resolution status"
Model-Deduplication,Cross-cutting,swift/Sources/Models/Deduplication/EntitySignature.swift,"MinHash signature for entity deduplication","@Table for MinHash storage","Foundation, SQLiteData","DomainBasic",Sendable,Simple,"Precomputed signature for fast duplicate detection"
Model,HealthKit,swift/Sources/Services/HealthKit/Models/HealthWorkout.swift,"HealthKit workout data model","Codable HealthKit wrapper","Foundation, HealthKit","Codable, Sendable",Sendable,Simple,"Workout type, duration, energy, distance"
Model,HealthKit,swift/Sources/Services/HealthKit/Models/HealthSleep.swift,"HealthKit sleep data model","Codable HealthKit wrapper","Foundation, HealthKit","Codable, Sendable",Sendable,Simple,"Sleep stages and duration"
Model,HealthKit,swift/Sources/Services/HealthKit/Models/HealthMindfulness.swift,"HealthKit mindfulness data model","Codable HealthKit wrapper","Foundation, HealthKit","Codable, Sendable",Sendable,Simple,"Mindfulness session duration"
Repository-Core,Cross-cutting,swift/Sources/Services/Repositories/Core/RepositoryProtocols.swift,"Protocol hierarchy for repository abstraction","Protocol-based with associated types","Foundation, Models, SQLiteData, GRDB","Repository, TitleBasedRepository, etc.",Sendable,Medium,"Defines Repository base + capability protocols"
Repository-Core,Cross-cutting,swift/Sources/Services/Repositories/Core/BaseRepository.swift,"Base repository providing common functionality","Template method pattern with generic DataType","Foundation, Models, SQLiteData, GRDB","Repository",@unchecked Sendable,Complex,"Error mapping, date helpers, pagination base"
Repository-Core,Cross-cutting,swift/Sources/Services/Repositories/Core/QueryStrategies.swift,"Query pattern interfaces and helpers","Strategy pattern for query variants","Foundation, Models, GRDB","None",Sendable,Medium,"JSON aggregation, #sql, and query builder strategies"
Repository-Core,Export,swift/Sources/Services/Repositories/Core/ExportSupport.swift,"Date filtering and export utilities","DateFilter helper for export queries","Foundation, GRDB","None",Sendable,Simple,"Shared date filter logic for all repositories"
Repository,Goal,swift/Sources/Services/Repositories/GoalRepository.swift,"Repository for goals using JSON aggregation","BaseRepository<GoalData> with complex SQL","BaseRepository, GoalData, Models","BaseRepository<GoalData>",@unchecked Sendable,Complex,"3 JSON aggregations (measures, values, terms)"
Repository,Action,swift/Sources/Services/Repositories/ActionRepository.swift,"Repository for actions with measurements and contributions","BaseRepository<ActionData> with JSON aggregation","BaseRepository, ActionData, Models","BaseRepository<ActionData>",@unchecked Sendable,Complex,"2 JSON aggregations (measurements, contributions)"
Repository,PersonalValue,swift/Sources/Services/Repositories/PersonalValueRepository.swift,"Repository for personal values using #sql macro","BaseRepository<PersonalValueData> with simple queries","BaseRepository, PersonalValueData, Models","BaseRepository<PersonalValueData>",@unchecked Sendable,Medium,"Simple #sql queries with optional goal JOIN"
Repository,TimePeriod,swift/Sources/Services/Repositories/TimePeriodRepository.swift,"Repository for time periods with term JOINs","BaseRepository<TimePeriodData> with query builder","BaseRepository, TimePeriodData, Models","BaseRepository<TimePeriodData>",@unchecked Sendable,Medium,"Query builder pattern for 1:1 GoalTerm JOIN"
Repository,Measure,swift/Sources/Services/Repositories/MeasureRepository.swift,"Repository for measures catalog","BaseRepository<MeasureData> with #sql","BaseRepository, MeasureData, Models","BaseRepository<MeasureData>",@unchecked Sendable,Simple,"Simple queries, title uniqueness checks"
Repository,Milestone,swift/Sources/Services/Repositories/MilestoneRepository.swift,"Repository for milestones with expectations","BaseRepository with JSON aggregation","BaseRepository, Models","BaseRepository",@unchecked Sendable,Medium,"JOIN with expectations table"
Repository,Obligation,swift/Sources/Services/Repositories/ObligationRepository.swift,"Repository for obligations with expectations","BaseRepository with JSON aggregation","BaseRepository, Models","BaseRepository",@unchecked Sendable,Medium,"JOIN with expectations table"
Repository,LLM,swift/Sources/Services/Repositories/ConversationRepository.swift,"Repository for LLM conversation history","BaseRepository for conversation persistence","BaseRepository, Models","BaseRepository",@unchecked Sendable,Medium,"Stores conversation threads and messages"
Repository,LLM,swift/Sources/Services/Repositories/EmbeddingCacheRepository.swift,"Repository for semantic embedding cache","BaseRepository for embedding storage","BaseRepository, Models","BaseRepository",@unchecked Sendable,Medium,"CRUD for embedding vectors with textHash lookup"
Coordinator,Goal,swift/Sources/Services/Coordinators/GoalCoordinator.swift,"Coordinates atomic creation of Goal + 5 related models","Multi-model atomic transaction","Database, Models, GoalFormData","None",Sendable,Complex,"Most complex coordinator: Expectation + Goal + measures + values + term"
Coordinator,Action,swift/Sources/Services/Coordinators/ActionCoordinator.swift,"Coordinates atomic creation of Action + measurements + contributions","Multi-model atomic transaction with get-or-create","Database, Models, ActionFormData, MeasureCoordinator","None",Sendable,Complex,"3-model transaction with coordinator composition"
Coordinator,PersonalValue,swift/Sources/Services/Coordinators/PersonalValueCoordinator.swift,"Coordinates PersonalValue creation with validation","Single-model coordinator","Database, Models, PersonalValueFormData","None",Sendable,Simple,"Title uniqueness + enum validation"
Coordinator,TimePeriod,swift/Sources/Services/Coordinators/TimePeriodCoordinator.swift,"Coordinates TimePeriod + optional GoalTerm creation","2-model coordinator with specialization","Database, Models, TimePeriodFormData","None",Sendable,Medium,"Creates TimePeriod, optionally creates GoalTerm"
Coordinator,Measure,swift/Sources/Services/Coordinators/MeasureCoordinator.swift,"Coordinates Measure creation with get-or-create pattern","Idempotent single-model coordinator","Database, Models, MeasureFormData","None",Sendable,Medium,"Duplicate prevention via (unit, measureType) uniqueness"
Coordinator,Milestone,swift/Sources/Services/Coordinators/MilestoneCoordinator.swift,"Coordinates Expectation + Milestone creation","2-model coordinator","Database, Models, MilestoneFormData","None",Sendable,Medium,"Creates Expectation (.milestone type) + Milestone"
Coordinator,Obligation,swift/Sources/Services/Coordinators/ObligationCoordinator.swift,"Coordinates Expectation + Obligation creation","2-model coordinator","Database, Models, ObligationFormData","None",Sendable,Medium,"Creates Expectation (.obligation type) + Obligation"
Coordinator,Measure,swift/Sources/Services/Coordinators/MeasureDeduplicationCoordinator.swift,"One-off utility for merging duplicate measures","Bulk deduplication coordinator","Database, Models","None",Sendable,Medium,"Merges duplicates, updates FK references"
Coordinator-FormData,Goal,swift/Sources/Services/Coordinators/FormData/GoalFormData.swift,"Form data structure for goal creation","Sendable value type","Foundation, Models","Sendable",Sendable,Medium,"Nested measure targets + value alignments + term assignment"
Coordinator-FormData,Action,swift/Sources/Services/Coordinators/FormData/ActionFormData.swift,"Form data structure for action creation","Sendable value type","Foundation, Models","Sendable",Sendable,Simple,"Measurements + goal contributions arrays"
Coordinator-FormData,PersonalValue,swift/Sources/Services/Coordinators/FormData/PersonalValueFormData.swift,"Form data structure for personal value creation","Sendable value type","Foundation, Models","Sendable",Sendable,Simple,"Title + priority + valueLevel + lifeDomain"
Coordinator-FormData,TimePeriod,swift/Sources/Services/Coordinators/FormData/TimePeriodFormData.swift,"Form data structure for time period creation","Sendable value type with specialization flag","Foundation, Models","Sendable",Sendable,Simple,"StartDate + endDate + optional GoalTerm creation"
Coordinator-FormData,Measure,swift/Sources/Services/Coordinators/FormData/MeasureFormData.swift,"Form data structure for measure creation","Sendable value type","Foundation, Models","Sendable",Sendable,Simple,"Unit + measureType + optional conversion"
Coordinator-FormData,Milestone,swift/Sources/Services/Coordinators/FormData/MilestoneFormData.swift,"Form data structure for milestone creation","Sendable value type","Foundation, Models","Sendable",Sendable,Simple,"Expectation base + targetDate"
Coordinator-FormData,Obligation,swift/Sources/Services/Coordinators/FormData/ObligationFormData.swift,"Form data structure for obligation creation","Sendable value type","Foundation, Models","Sendable",Sendable,Simple,"Expectation base + deadline + requestedBy"
Coordinator-FormData,Expectation,swift/Sources/Services/Coordinators/FormData/ExpectationFormDataBase.swift,"Shared base for expectation form data","Protocol for expectation subtypes","Foundation, Models","None",None,Simple,"Common fields: title, description, importance, urgency"
Coordinator-FormData,Measure,swift/Sources/Services/Coordinators/FormData/ExpectationMeasureFormData.swift,"Form data for expectation measure targets","Sendable value type","Foundation, Models","Sendable",Sendable,Simple,"MeasureId + targetValue + notes"
Coordinator-FormData,PersonalValue,swift/Sources/Services/Coordinators/FormData/ValueAlignmentInput.swift,"Form data for goal-value alignments","Sendable value type","Foundation, Models","Sendable",Sendable,Simple,"ValueId + alignmentStrength + notes"
Service-Validation,Cross-cutting,swift/Sources/Services/Validation/ValidationError.swift,"User-friendly validation error types","Error enum with associated values","Foundation","Error, Equatable",Sendable,Medium,"Database errors mapped to user messages"
Service-Validation,Cross-cutting,swift/Sources/Services/Validation/ValidationRules.swift,"Business rule validation logic","Static validation methods","Foundation, Models","None",Sendable,Medium,"Two-phase validation (formData, complete)"
Service-Validation,Cross-cutting,swift/Sources/Services/Validation/ValidationUtilities.swift,"Validation helper utilities","String/date validation helpers","Foundation","None",Sendable,Simple,"isEmpty checks, date range validation"
Service-Progress,Progress,swift/Sources/Services/Progress/ProgressCalculationService.swift,"Calculate goal progress from actions","Aggregation service","Database, Models","None",Sendable,Complex,"Measures actuals vs targets per measure"
Service-Progress,Progress,swift/Sources/Services/Progress/ProgressAggregationService.swift,"Aggregate progress across multiple goals","Statistical aggregation","Database, Models","None",Sendable,Medium,"Weighted averages and completion rates"
Service-Progress,Cross-cutting,swift/Sources/Services/Progress/ActiveStatusService.swift,"Determine active/inactive goal status","Business logic for goal lifecycle","Database, Models","None",Sendable,Simple,"Checks targetDate and progress"
Service-Semantic,LLM,swift/Sources/Services/Semantic/SemanticService.swift,"Main semantic similarity service","Wrapper for NLEmbedding + cache","NaturalLanguage, Models","None",Sendable,Complex,"Generate embeddings, calculate similarity, cache results"
Service-Semantic,LLM,swift/Sources/Services/Semantic/EmbeddingBackfillService.swift,"Batch generate embeddings for existing entities","Background processing service","Database, Models, SemanticService","None",Sendable,Medium,"One-time migration + periodic updates"
Service-Semantic,PersonalValue,swift/Sources/Services/Semantic/ValueAlignmentService.swift,"Calculate goal-value alignment scores","Semantic similarity for value matching","SemanticService, Models","None",Sendable,Medium,"Embeddings for value alignment analysis"
Service-Embedding,LLM,swift/Sources/Services/Embedding/EmbeddingGenerationService.swift,"Generate and cache entity embeddings","NLEmbedding wrapper with caching","NaturalLanguage, Database, Models","None",Sendable,Complex,"Two variants: title-only, full-context"
Service-Embedding,LLM,swift/Sources/Services/Embedding/EmbeddingSourceTextBuilders.swift,"Build source text for embedding generation","Text composition strategies","Models","None",Sendable,Medium,"Goal/Action/Value text builders"
Service-Deduplication,Cross-cutting,swift/Sources/Services/Deduplication/DuplicationResult.swift,"Result type for duplicate detection","Enum with associated data","Foundation","Sendable",Sendable,Simple,"NoDuplicate, Duplicate(entity, similarity)"
Service-Deduplication,LLM,swift/Sources/Services/Deduplication/SemanticDetectable.swift,"Protocol for semantic duplicate detection","Protocol for entities with embeddings","Foundation","None",None,Simple,"Requires embedding generation capability"
Service-Deduplication,LLM,swift/Sources/Services/Deduplication/SemanticDuplicateDetector.swift,"Generic semantic duplicate detector","Generic over SemanticDetectable","SemanticService, Models","None",Sendable,Medium,"Configurable thresholds and blocking behavior"
Service-Deduplication,Goal,swift/Sources/Services/Deduplication/SemanticGoalDetector.swift,"Goal-specific duplicate detection","Specialized detector for goals","SemanticDuplicateDetector, GoalData","None",Sendable,Medium,"Uses title-only embeddings for fast matching"
Service-LLM,Cross-cutting,swift/Sources/Services/FoundationModels/ModelAvailability.swift,"Check Foundation Models availability","System capability check","FoundationModels","None",@MainActor,Simple,"Detects if on-device LLM available"
Service-LLM,Cross-cutting,swift/Sources/Services/FoundationModels/ConversationError.swift,"LLM conversation error types","Error enum for LLM failures","Foundation","Error",Sendable,Simple,"Model unavailable, API errors, etc."
Service-LLM,Cross-cutting,swift/Sources/Services/FoundationModels/ConversationHistory.swift,"LLM conversation persistence","Transcript storage and retrieval","Database, Models","None",Sendable,Medium,"Manages conversation context window"
Service-LLM,Goal,swift/Sources/Services/FoundationModels/Services/GoalCoachService.swift,"Goal-setting conversational service","LanguageModelSession wrapper","FoundationModels, Database, Models","None",@MainActor,Complex,"Orchestrates LLM tools for goal creation"
Service-LLM,Goal,swift/Sources/Services/FoundationModels/Tools/CreateGoalTool.swift,"LLM tool for creating goals","@Tool for LanguageModelSession","FoundationModels, GoalCoordinator","Tool",Sendable,Medium,"Guided generation for GoalFormData"
Service-LLM,Goal,swift/Sources/Services/FoundationModels/Tools/GetGoalsTool.swift,"LLM tool for fetching goals","@Tool for LanguageModelSession","FoundationModels, GoalRepository","Tool",Sendable,Simple,"Returns active goals as tool response"
Service-LLM,Goal,swift/Sources/Services/FoundationModels/Tools/CheckDuplicateGoalTool.swift,"LLM tool for duplicate detection","@Tool for LanguageModelSession","FoundationModels, SemanticGoalDetector","Tool",Sendable,Medium,"Semantic duplicate check before creation"
Service-LLM,PersonalValue,swift/Sources/Services/FoundationModels/Tools/GetValuesTool.swift,"LLM tool for fetching values","@Tool for LanguageModelSession","FoundationModels, PersonalValueRepository","Tool",Sendable,Simple,"Returns user values as tool response"
Service-LLM,Measure,swift/Sources/Services/FoundationModels/Tools/GetMeasuresTool.swift,"LLM tool for fetching measures","@Tool for LanguageModelSession","FoundationModels, MeasureRepository","Tool",Sendable,Simple,"Returns measure catalog as tool response"
Service-LLM,Action,swift/Sources/Services/FoundationModels/Tools/GetRecentActionsTool.swift,"LLM tool for fetching recent actions","@Tool for LanguageModelSession","FoundationModels, ActionRepository","Tool",Sendable,Simple,"Returns last N actions as tool response"
Service-LLM,Progress,swift/Sources/Services/FoundationModels/Tools/GetProgressToolPlaceholder.swift,"LLM tool for progress queries (placeholder)","@Tool scaffold","FoundationModels","Tool",Sendable,Simple,"Placeholder for Phase 2 progress integration"
Service-LLM,PersonalValue,swift/Sources/Services/FoundationModels/Tools/AnalyzeAlignmentToolPlaceholder.swift,"LLM tool for value alignment (placeholder)","@Tool scaffold","FoundationModels","Tool",Sendable,Simple,"Placeholder for Phase 2 alignment analysis"
Service-HealthKit,HealthKit,swift/Sources/Services/HealthKit/HealthKitManager.swift,"HealthKit authorization and queries","HKHealthStore wrapper","HealthKit, Foundation","None",@MainActor,Complex,"Request permissions, fetch workouts/sleep/mindfulness"
Service-HealthKit,HealthKit,swift/Sources/Services/HealthKit/HealthKitImportService.swift,"Import HealthKit data to database","ETL from HealthKit to Measures","HealthKit, Database, MeasureCoordinator","None",Sendable,Complex,"Maps HK samples to MeasuredActions via coordinator composition"
Service-HealthKit,HealthKit,swift/Sources/Services/HealthKit/HealthKitLiveTrackingService.swift,"Live HealthKit observer for real-time updates","Background observer with notifications","HealthKit, Database","None",@MainActor,Medium,"Monitors HK changes, triggers imports"
Service-Import/Export,Export,swift/Sources/Services/ImportExport/Exporter.swift,"Export entities to CSV/JSON","Generic export service","Database, Models","None",Sendable,Medium,"Uses Repository.fetchForExport() for date filtering"
Service-Import/Export,Export,swift/Sources/Services/ImportExport/CSVFormatter.swift,"Format entities as CSV rows","CSV serialization","Models","None",Sendable,Simple,"Converts DataType.csvRow to CSV string"
Service-Import/Export,Import,swift/Sources/Services/ImportExport/DataImporter.swift,"Import CSV/JSON to database","Generic import orchestrator","Database, Models, Coordinators","None",Sendable,Complex,"Parse, validate, transform, persist via coordinators"
Service-Import/Export,Import,swift/Sources/Services/ImportExport/CSVParser.swift,"Parse CSV files to typed rows","CSV deserialization","Foundation","None",Sendable,Simple,"Header detection, type inference, row parsing"
Service-Import/Export,Import,swift/Sources/Services/ImportExport/JSONParser.swift,"Parse JSON files to typed entities","JSON deserialization","Foundation","None",Sendable,Simple,"Uses JSONDecoder for model deserialization"
Service-Import/Export,Import,swift/Sources/Services/ImportExport/ImportTypes.swift,"Import result and error types","Type definitions for import flow","Foundation","Sendable",Sendable,Simple,"ImportResult, ImportError, ImportPreview"
Service-Import/Export,Import,swift/Sources/Services/ImportExport/ImportValidator.swift,"Validate imported data before persistence","Pre-import validation","Models, ValidationRules","None",Sendable,Medium,"FK existence checks, business rule validation"
Service-Import/Export,Import,swift/Sources/Services/ImportExport/Importers.swift,"Entity-specific importer implementations","Concrete importers per entity type","Database, Models, Coordinators","None",Sendable,Complex,"GoalImporter, ActionImporter, ValueImporter, etc."
Service-Import/Export,Cross-cutting,swift/Sources/Services/ImportExport/EntityParsers.swift,"Parse CSV rows to FormData structures","CSV â†’ FormData transformation","Models, FormData","None",Sendable,Medium,"Type-specific parsers for each entity"
Service-Import/Export,Cross-cutting,swift/Sources/Services/ImportExport/FormDataTransformer.swift,"Transform parsed data to FormData","Intermediate transformation layer","Models, FormData","None",Sendable,Medium,"Handles nested relationships and references"
Service,Cross-cutting,swift/Sources/Services/MatchingService.swift,"Business logic for matching actions to goals","Matching algorithm","Database, Models","None",Sendable,Medium,"Finds eligible goals for action contributions"
Service,Cross-cutting,swift/Sources/Services/Dependencies+Semantic.swift,"Dependency injection for semantic services","@DependencyClient registration","Dependencies, SemanticService","None",None,Simple,"Registers SemanticService in dependency tree"
ViewModel-Form,Goal,swift/Sources/App/ViewModels/FormViewModels/GoalFormViewModel.swift,"ViewModel for goal creation/editing forms","@Observable @MainActor pattern","GoalCoordinator, GoalFormData","None",@MainActor,Medium,"Form state + validation + save via coordinator"
ViewModel-Form,Action,swift/Sources/App/ViewModels/FormViewModels/ActionFormViewModel.swift,"ViewModel for action creation/editing forms","@Observable @MainActor pattern","ActionCoordinator, ActionFormData","None",@MainActor,Medium,"Form state + validation + save via coordinator"
ViewModel-Form,PersonalValue,swift/Sources/App/ViewModels/FormViewModels/PersonalValuesFormViewModel.swift,"ViewModel for value creation/editing forms","@Observable @MainActor pattern","PersonalValueCoordinator, PersonalValueFormData","None",@MainActor,Simple,"Form state + validation + save via coordinator"
ViewModel-Form,TimePeriod,swift/Sources/App/ViewModels/FormViewModels/TimePeriodFormViewModel.swift,"ViewModel for time period creation/editing forms","@Observable @MainActor pattern","TimePeriodCoordinator, TimePeriodFormData","None",@MainActor,Simple,"Form state + validation + save via coordinator"
ViewModel-Form,Milestone,swift/Sources/App/ViewModels/FormViewModels/MilestoneFormViewModel.swift,"ViewModel for milestone creation/editing forms","@Observable @MainActor pattern","MilestoneCoordinator, MilestoneFormData","None",@MainActor,Simple,"Form state + validation + save via coordinator"
ViewModel-Form,Obligation,swift/Sources/App/ViewModels/FormViewModels/ObligationFormViewModel.swift,"ViewModel for obligation creation/editing forms","@Observable @MainActor pattern","ObligationCoordinator, ObligationFormData","None",@MainActor,Simple,"Form state + validation + save via coordinator"
ViewModel-List,Goal,swift/Sources/App/ViewModels/ListViewModels/GoalsListViewModel.swift,"ViewModel for goals list view","@Observable @MainActor + Repository pattern","GoalRepository, GoalCoordinator","None",@MainActor,Medium,"Load goals, delete, refresh via repository"
ViewModel-List,Action,swift/Sources/App/ViewModels/ListViewModels/ActionsListViewModel.swift,"ViewModel for actions list view","@Observable @MainActor + Repository pattern","ActionRepository, ActionCoordinator","None",@MainActor,Medium,"Load actions, delete, refresh via repository"
ViewModel-List,PersonalValue,swift/Sources/App/ViewModels/ListViewModels/PersonalValuesListViewModel.swift,"ViewModel for values list view","@Observable @MainActor + Repository pattern","PersonalValueRepository, PersonalValueCoordinator","None",@MainActor,Simple,"Load values, delete, refresh via repository"
ViewModel-List,TimePeriod,swift/Sources/App/ViewModels/ListViewModels/TermsListViewModel.swift,"ViewModel for terms list view","@Observable @MainActor + Repository pattern","TimePeriodRepository","None",@MainActor,Simple,"Load terms, refresh via repository"
ViewModel-List,Milestone,swift/Sources/App/ViewModels/ListViewModels/MilestonesListViewModel.swift,"ViewModel for milestones list view","@Observable @MainActor + Repository pattern","MilestoneRepository, MilestoneCoordinator","None",@MainActor,Simple,"Load milestones, delete, refresh via repository"
ViewModel-List,Obligation,swift/Sources/App/ViewModels/ListViewModels/ObligationsListViewModel.swift,"ViewModel for obligations list view","@Observable @MainActor + Repository pattern","ObligationRepository, ObligationCoordinator","None",@MainActor,Simple,"Load obligations, delete, refresh via repository"
ViewModel-LLM,Goal,swift/Sources/App/ViewModels/LLMViewModels/GoalCoachViewModel.swift,"ViewModel for conversational goal creation","@Observable @MainActor with LanguageModelSession","GoalCoachService, ConversationHistory","None",@MainActor,Complex,"LLM chat interface for goal-setting conversations"
ViewModel,HealthKit,swift/Sources/App/ViewModels/HealthDashboardViewModel.swift,"ViewModel for HealthKit dashboard","@Observable @MainActor","HealthKitManager, HealthKitImportService","None",@MainActor,Medium,"Display HealthKit data, trigger imports"
ViewModel,Export,swift/Sources/App/ViewModels/UtilityViewModels/ExportViewModel.swift,"ViewModel for CSV/JSON export","@Observable @MainActor","Exporter, Repositories","None",@MainActor,Medium,"Export orchestration with date filtering"
ViewModel,PersonalValue,swift/Sources/App/ViewModels/ValueAlignmentHeatmapViewModel.swift,"ViewModel for value alignment heatmap","@Observable @MainActor","ValueAlignmentService, GoalRepository","None",@MainActor,Medium,"2D matrix of goal-value alignments"
View,Cross-cutting,swift/Sources/App/Views/ContentView.swift,"Main app container view","SwiftUI App root","SwiftUI, ViewModels","View",@MainActor,Simple,"TabView with navigation"
View,Cross-cutting,swift/Sources/App/Views/Dashboard/DashboardView.swift,"Main dashboard aggregation view","SwiftUI composite view","SwiftUI, ViewModels","View",@MainActor,Medium,"Overview of goals, actions, progress"
View,PersonalValue,swift/Sources/App/Views/Analytics/ValueAlignmentHeatmapView.swift,"Heatmap visualization of value alignments","SwiftUI data visualization","SwiftUI, ValueAlignmentHeatmapViewModel","View",@MainActor,Medium,"2D grid showing goal-value alignment strengths"
View-Form,Goal,swift/Sources/App/Views/FormViews/GoalFormView.swift,"Form view for goal creation/editing","SwiftUI form with sections","SwiftUI, GoalFormViewModel","View",@MainActor,Complex,"Multi-section form: title, dates, measures, values, term"
View-Form,Action,swift/Sources/App/Views/FormViews/ActionFormView.swift,"Form view for action creation/editing","SwiftUI form with sections","SwiftUI, ActionFormViewModel","View",@MainActor,Medium,"Multi-section form: title, measurements, goal contributions"
View-Form,PersonalValue,swift/Sources/App/Views/FormViews/PersonalValuesFormView.swift,"Form view for value creation/editing","SwiftUI form","SwiftUI, PersonalValuesFormViewModel","View",@MainActor,Simple,"Simple form: title, priority, valueLevel, lifeDomain"
View-Form,TimePeriod,swift/Sources/App/Views/FormViews/TermFormView.swift,"Form view for term creation/editing","SwiftUI form with specialization","SwiftUI, TimePeriodFormViewModel","View",@MainActor,Simple,"Date range + optional GoalTerm toggle"
View-Form,Milestone,swift/Sources/App/Views/FormViews/MilestoneFormView.swift,"Form view for milestone creation/editing","SwiftUI form","SwiftUI, MilestoneFormViewModel","View",@MainActor,Simple,"Title, description, targetDate"
View-Form,Obligation,swift/Sources/App/Views/FormViews/ObligationFormView.swift,"Form view for obligation creation/editing","SwiftUI form","SwiftUI, ObligationFormViewModel","View",@MainActor,Simple,"Title, description, deadline, requestedBy"
View-List,Goal,swift/Sources/App/Views/ListViews/GoalsListView.swift,"List view for goals","SwiftUI List","SwiftUI, GoalsListViewModel","View",@MainActor,Medium,"List with row navigation, delete, refresh"
View-List,Action,swift/Sources/App/Views/ListViews/ActionsListView.swift,"List view for actions","SwiftUI List","SwiftUI, ActionsListViewModel","View",@MainActor,Medium,"List with row navigation, delete, refresh"
View-List,PersonalValue,swift/Sources/App/Views/ListViews/PersonalValuesListView.swift,"List view for personal values","SwiftUI List","SwiftUI, PersonalValuesListViewModel","View",@MainActor,Simple,"List with row navigation, delete, refresh"
View-List,TimePeriod,swift/Sources/App/Views/ListViews/TermsListView.swift,"List view for terms","SwiftUI List","SwiftUI, TermsListViewModel","View",@MainActor,Simple,"List with row navigation"
View-List,Milestone,swift/Sources/App/Views/ListViews/MilestonesListView.swift,"List view for milestones","SwiftUI List","SwiftUI, MilestonesListViewModel","View",@MainActor,Simple,"List with row navigation, delete, refresh"
View-List,Obligation,swift/Sources/App/Views/ListViews/ObligationsListView.swift,"List view for obligations","SwiftUI List","SwiftUI, ObligationsListViewModel","View",@MainActor,Simple,"List with row navigation, delete, refresh"
View-Row,Goal,swift/Sources/App/Views/RowViews/GoalRowView.swift,"Row view for goal in list","SwiftUI row component","SwiftUI, GoalData","View",@MainActor,Simple,"Displays title, dates, measure targets, value badges"
View-Row,Action,swift/Sources/App/Views/RowViews/ActionRowView.swift,"Row view for action in list","SwiftUI row component","SwiftUI, ActionData","View",@MainActor,Simple,"Displays title, measurements, goal badges"
View-Row,PersonalValue,swift/Sources/App/Views/RowViews/PersonalValuesRowView.swift,"Row view for value in list","SwiftUI row component","SwiftUI, PersonalValueData","View",@MainActor,Simple,"Displays title, priority, valueLevel badge"
View-Row,TimePeriod,swift/Sources/App/Views/RowViews/TermRowView.swift,"Row view for term in list","SwiftUI row component","SwiftUI, TimePeriodData","View",@MainActor,Simple,"Displays term number, date range, status badge"
View-Row,Milestone,swift/Sources/App/Views/RowViews/MilestoneRowView.swift,"Row view for milestone in list","SwiftUI row component","SwiftUI","View",@MainActor,Simple,"Displays title, targetDate"
View-Row,Obligation,swift/Sources/App/Views/RowViews/ObligationRowView.swift,"Row view for obligation in list","SwiftUI row component","SwiftUI","View",@MainActor,Simple,"Displays title, deadline, requestedBy"
View-Component,Measure,swift/Sources/App/Views/Components/FormComponents/MeasurementInputRow.swift,"Reusable measurement input row","SwiftUI form component","SwiftUI, MeasureRepository","View",@MainActor,Medium,"Measure picker + value TextField with validation"
View-Component,Measure,swift/Sources/App/Views/Components/FormComponents/MetricTargetRow.swift,"Reusable metric target input row","SwiftUI form component with get-or-create","SwiftUI, MeasureCoordinator","View",@MainActor,Complex,"Measure picker + targetValue + inline measure creation"
View-Component,Cross-cutting,swift/Sources/App/Views/Components/FormComponents/MultiSelectSection.swift,"Reusable multi-select section","SwiftUI form component","SwiftUI","View",@MainActor,Simple,"Checkbox list for selecting multiple items"
View-Component,Cross-cutting,swift/Sources/App/Views/Components/FormComponents/RepeatingSection.swift,"Reusable repeating field section","SwiftUI form component","SwiftUI","View",@MainActor,Medium,"Add/remove dynamic list of inputs"
View-Component,Cross-cutting,swift/Sources/App/Views/Components/FormComponents/TimingSection.swift,"Reusable date/time input section","SwiftUI form component","SwiftUI","View",@MainActor,Simple,"DatePicker + duration input"
View-Component,Progress,swift/Sources/App/Views/Components/GoalComponents/ProgressIndicator.swift,"Progress bar component","SwiftUI progress view","SwiftUI, ProgressData","View",@MainActor,Simple,"Visual progress bar with percentage"
View-Component,Cross-cutting,swift/Sources/App/Views/Components/QuickAddSection.swift,"Quick-add shortcuts section","SwiftUI shortcuts","SwiftUI, Coordinators","View",@MainActor,Medium,"Fast entry for common actions/goals"
View-Template,Cross-cutting,swift/Sources/App/Views/Templates/BadgeView.swift,"Reusable badge display","SwiftUI component","SwiftUI","View",@MainActor,Simple,"Colored badge for tags/categories"
View-Template,Cross-cutting,swift/Sources/App/Views/Templates/DateGrouping.swift,"Date grouping helpers for lists","SwiftUI grouping utilities","SwiftUI","None",None,Simple,"Group by day/week/month"
View-Template,Cross-cutting,swift/Sources/App/Views/Templates/DocumentableFields.swift,"Reusable Documentable fields","SwiftUI form section","SwiftUI","View",@MainActor,Simple,"Title + description + notes TextField group"
View-Template,Cross-cutting,swift/Sources/App/Views/Templates/EntityRowView.swift,"Generic entity row template","SwiftUI row base","SwiftUI","View",@MainActor,Simple,"Base row with title + metadata"
View-Template,Cross-cutting,swift/Sources/App/Views/Templates/FormHelpers.swift,"Form validation and utilities","SwiftUI form helpers","SwiftUI","None",None,Simple,"TextField validation, error display"
View-Template,Measure,swift/Sources/App/Views/Templates/MeasurementDisplay.swift,"Display measurement with unit","SwiftUI display component","SwiftUI, MeasureData","View",@MainActor,Simple,"Formatted value + unit (e.g., '5.2 km')"
View-Template,Validation,swift/Sources/App/Views/Templates/ValidationFeedback.swift,"Validation error display","SwiftUI error component","SwiftUI, ValidationError","View",@MainActor,Simple,"User-friendly error messages"
View-CSV,Export,swift/Sources/App/Views/CSV/CSVExportImportView.swift,"CSV export/import main view","SwiftUI container","SwiftUI, ExportViewModel","View",@MainActor,Medium,"Export + import tabs with file pickers"
View-CSV,Import,swift/Sources/App/Views/CSV/ImportPreviewView.swift,"CSV import preview view","SwiftUI preview","SwiftUI, ImportTypes","View",@MainActor,Medium,"Show parsed data before import"
View-CSV,Import,swift/Sources/App/Views/CSV/ImportResultView.swift,"CSV import result view","SwiftUI result display","SwiftUI, ImportTypes","View",@MainActor,Simple,"Success/failure summary"
View-Health,HealthKit,swift/Sources/App/Views/Health/HealthDashboardTestView.swift,"HealthKit dashboard test view","SwiftUI test harness","SwiftUI, HealthDashboardViewModel","View",@MainActor,Medium,"Development view for HealthKit testing"
View-Health,HealthKit,swift/Sources/App/Views/Health/WorkoutsTestView.swift,"Workouts list test view","SwiftUI test harness","SwiftUI, HealthKitManager","View",@MainActor,Simple,"Development view for workout display"
View-Health,HealthKit,swift/Sources/App/Views/Health/WorkoutDetailView.swift,"Workout detail view","SwiftUI detail view","SwiftUI, HealthWorkout","View",@MainActor,Simple,"Show workout type, duration, metrics"
View,LLM,swift/Sources/App/Views/LLM/GoalCoachView.swift,"Conversational goal-setting view","SwiftUI chat interface","SwiftUI, GoalCoachViewModel","View",@MainActor,Complex,"LLM conversation UI with tool display"
View-Debug,Measure,swift/Sources/App/Views/Debug/MeasureDeduplicationView.swift,"Measure deduplication debug view","SwiftUI debug tool","SwiftUI, MeasureDeduplicationCoordinator","View",@MainActor,Medium,"Manual trigger for measure merging"
View-Debug,Cross-cutting,swift/Sources/App/Views/Debug/SyncDebugView.swift,"CloudKit sync debug view","SwiftUI debug tool","SwiftUI, CloudKitManualSync","View",@MainActor,Simple,"Manual sync trigger and status display"
Database,Cross-cutting,swift/Sources/Database/DatabaseBootstrap.swift,"Database initialization and migration","Bootstrap pattern with schema execution","SQLiteData, Foundation","None",None,Medium,"Creates database, runs migrations, seeds data"
Database,Cross-cutting,swift/Sources/Database/SyncConfiguration.swift,"CloudKit sync configuration","Sync setup with conflict resolution","CloudKit, SQLiteData","None",None,Simple,"Configures CloudKit container and sync options"
Database,Cross-cutting,swift/Sources/Database/CloudKitManualSync.swift,"Manual CloudKit synchronization","Sync trigger with progress tracking","CloudKit, Database","None",@MainActor,Medium,"Manual sync operations for testing and debugging"
